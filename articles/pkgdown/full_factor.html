<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Multivariate &gt; Factor analysis â€¢ radiant.multivariate</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha256-916EbMg70RQy9LHiGkXzG8hSg9EdNy97GazNG/aiY1w=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha256-U5ZEeKfGNOja007MMD3YBI0A3OSZOQbeG6z2f2Y0hu8=" crossorigin="anonymous"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.7.1/css/all.min.css" integrity="sha256-nAmazAk6vS34Xqo0BSrTb+abbtFlgsFK7NKSi6o7Y78=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.7.1/css/v4-shims.min.css" integrity="sha256-6qHlizsOWFskGlwVOKuns+D1nB6ssZrHQrNj1wGplHc=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/headroom.min.js" integrity="sha256-DJFC1kqIhelURkuza0AvYal5RxMtpzLjFhsnVIeuk+U=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../../pkgdown.css" rel="stylesheet">
<script src="../../pkgdown.js"></script><!-- docsearch --><script src="../../docsearch.js"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/docsearch.js/2.6.1/docsearch.min.css" integrity="sha256-QOSRU/ra9ActyXkIBbiIB144aDBdtvXBcNc3OTNuX/Q=" crossorigin="anonymous">
<link href="../../docsearch.css" rel="stylesheet">
<script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/jquery.mark.min.js" integrity="sha256-4HLtjeVgH0eIB3aZ9mLYF6E8oU5chNdjU6p6rrXpl9U=" crossorigin="anonymous"></script><meta property="og:title" content="Multivariate &gt; Factor analysis">
<meta property="og:description" content="">
<meta name="twitter:card" content="summary">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../../index.html">radiant.multivariate</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">1.3.1</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../../index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../../reference/index.html">Reference</a>
</li>
<li>
  <a href="../../articles/index.html">Articles</a>
</li>
<li>
  <a href="../../news/index.html">Changelog</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Other Packages
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="https://radiant-rstats.github.io/radiant/">radiant</a>
    </li>
    <li>
      <a href="https://radiant-rstats.github.io/radiant.data/">radiant.data</a>
    </li>
    <li>
      <a href="https://radiant-rstats.github.io/radiant.design/">radiant.design</a>
    </li>
    <li>
      <a href="https://radiant-rstats.github.io/radiant.basics/">radiant.basics</a>
    </li>
    <li>
      <a href="https://radiant-rstats.github.io/radiant.model/">radiant.model</a>
    </li>
    <li>
      <a href="https://radiant-rstats.github.io/radiant.multivariate/">radiant.multivariate</a>
    </li>
    <li>
      <a href="https://github.com/radiant-rstats/docker">docker</a>
    </li>
  </ul>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://twitter.com/vrnijs">
    <span class="fa fa-twitter fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="https://github.com/radiant-rstats">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
<form class="navbar-form navbar-right hidden-xs hidden-sm" role="search">
        <div class="form-group">
          <input type="search" class="form-control" name="search-input" id="search-input" placeholder="Search..." aria-label="Search for..." autocomplete="off">
</div>
      </form>
      
    </div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1>Multivariate &gt; Factor analysis</h1>
                        <h4 class="author">Vincent R. Nijs, Rady School of Management (UCSD)</h4>
            
      
      <small class="dont-index">Source: <a href="https://github.com/radiant-rstats/radiant.multivariate/blob/master/vignettes/pkgdown/full_factor.Rmd"><code>vignettes/pkgdown/full_factor.Rmd</code></a></small>
      <div class="hidden name"><code>full_factor.Rmd</code></div>

    </div>

    
    
<blockquote>
<p>Reduce data dimensionality without significant loss of information</p>
</blockquote>
<p>As stated in the documentation for pre-factor analysis (see <em>Multivariate &gt; Factor &gt; Pre-factor</em>), the goal of factor analysis is to reduce the dimensionality of the data without significant loss of information. The tool tries to achieve this goal by looking for structure in the correlation matrix of the variables included in the analysis. The researcher will often try to link the original variables (or <em>items</em>) to an underlying factor and provide a descriptive label for each.</p>
<div id="example-toothpaste" class="section level3">
<h3 class="hasAnchor">
<a href="#example-toothpaste" class="anchor"></a>Example: Toothpaste</h3>
<p>First, go to the <em>Data &gt; Manage</em> tab, select <strong>examples</strong> from the <code>Load data of type</code> dropdown, and press the <code>Load</code> button. Then select the <code>toothpaste</code> dataset. The dataset contains information from 60 consumers who were asked to respond to six questions to determine their attitudes towards toothpaste. The scores shown for variables v1-v6 indicate the level of agreement with statements on a 7-point scale where 1 = strongly disagree and 7 = strongly agree.</p>
<p>Once we have determined the number of factors we can extract and rotate them. The factors are rotated to generate a solution where, to the extent possible, a variable has a high loading on only one factor. This is an important benefit because it makes it easier to interpret what the factor represents. While there are numerous algorithms to rotate a factor loadings matrix the most commonly used is Varimax rotation.</p>
<p>To replicate the results shown in the screenshot below make sure you have the <code>toothpaste</code> data loaded. Then select variables <code>v1</code> through <code>v6</code>, set <code>Nr. of factors</code> to 2, and press the <code>Estimate</code> button or <code>CTRL-enter</code> (<code>CMD-enter</code> on mac) to generate results.</p>
<p align="center">
<img src="https://radiant-rstats.github.io/docs/multivariate/figures_multivariate//full_factor_summary.png"></p>
<p>The numbers in the <code>Factor loadings</code> table are the correlations of the six variables with the two factors. For example, variable <code>v1</code> has a correlation of .96 with factor 1 and a correlation of -.03 with factor 2. As such <code>v1</code> will play a big role in naming factor 1 but an insignificant role in naming factor 2.</p>
<p>The rotated factor loadings can be used to determine labels or names for the different factors. We need to identify and highlight the highest factor loading, in absolute value, in each row. This is easily done by setting the <code>Cut-off</code> value to .4 and checking the <code>Sort factor loadings</code> box. The output is shown below.</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb1-1" data-line-number="1">Loadings<span class="op">:</span></a>
<a class="sourceLine" id="cb1-2" data-line-number="2"><span class="st">     </span>RC1   RC2</a>
<a class="sourceLine" id="cb1-3" data-line-number="3">v1  <span class="fl">0.96</span></a>
<a class="sourceLine" id="cb1-4" data-line-number="4">v5 <span class="fl">-0.93</span></a>
<a class="sourceLine" id="cb1-5" data-line-number="5">v3  <span class="fl">0.93</span></a>
<a class="sourceLine" id="cb1-6" data-line-number="6">v6        <span class="fl">0.88</span></a>
<a class="sourceLine" id="cb1-7" data-line-number="7">v4        <span class="fl">0.85</span></a>
<a class="sourceLine" id="cb1-8" data-line-number="8">v2        <span class="fl">0.85</span></a></code></pre></div>
<p>Together, the variables shown in each column (i.e., for each factor) help us to understand what the factor represents. Questions 1, 3, and 5 reflect the importance of health issues while questions 2, 4, and 6 reflect aesthetics issues (see the data description in the <em>Data &gt; Manage</em> tab for a description of the variables). Plausible names for the factors might therefore be:</p>
<ul>
<li>
<strong>Factor 1:</strong> Health benefits</li>
<li>
<strong>Factor 2:</strong> Social benefits</li>
</ul>
<p>The best way to see what rotation does is to switch between <code>Varimax</code> and <code>None</code> in the <code>Rotation</code> dropdown and inspect what changes in the output after pressing the <code>Estimate model</code> button. Select <code>None</code> from the <code>Rotation</code> dropdown, switch to the <em>Plot</em> tab, and press the <code>Estimate model</code> button to see updated results. The image shown below depicts the loadings of the variables on the two factors. Variable <code>v5</code> falls somewhat in between the axes for factor 1 and factor 2. When we select <code>Varimax</code> rotation, however, the label for <code>v5</code> lines up nicely with the horizontal axis (i.e., factor 2). This change in alignment is also reflected in the factor loadings. The unrotated factor loadings for <code>v5</code> are -0.87 for factor 1 and -0.35 for factor 2. The rotated factor loadings for <code>v5</code> are -0.93 for factor 1 and -0.08 for factor 2.</p>
<p align="center">
<img src="https://radiant-rstats.github.io/docs/multivariate/figures_multivariate//full_factor_plot.png"><img src="https://radiant-rstats.github.io/docs/multivariate/figures_multivariate//full_factor_plot_rotation.png"></p>
<p>The final step is to generate the factor scores. You can think of these scores as a weighted average of the variables that are linked to a factor. They approximate the scores that a respondent would have provided if we could have asked about the factor in a single question, i.e., the respondents inferred ratings on the factors. By clicking on the <code>Store</code> button two new variables will be added to the toothpaste data file (i.e., factor1 and factor2). You can see them by going to the <em>Data &gt; View</em> tab. We can use factor scores in other analyses (e.g., cluster analysis or regression). You can rename the new variables, e.g., to <code>health</code> and <code>social</code> through the <em>Data &gt; Transform</em> tab by selecting <code>Rename</code> from the <code>Transformation type</code> dropdown.</p>
<p>To download the factor loadings to a csv-file click the download button on the top-right of the screen.</p>
</div>
<div id="summary" class="section level3">
<h3 class="hasAnchor">
<a href="#summary" class="anchor"></a>Summary</h3>
<ol style="list-style-type: decimal">
<li>Determine if the data are appropriate for factor analysis using Bartlett, KMO, and Collinearity (<em>Multivariate &gt; Factor &gt; Pre-factor</em>)</li>
<li>Determine the number of factors to extract using the scree-plot and eigenvalues &gt; 1 criteria (<em>Multivariate &gt; Factor &gt; Pre-factor</em>)</li>
<li>Extract the (rotated) factor solution to produce:
<ul>
<li>Factor loadings: Correlations between attributes and factors</li>
<li>Factor scores: Inferred ratings on the new factors (i.e., new variables that summarize the original variables)</li>
</ul>
</li>
<li>Identify the highest factor loading, in absolute value, in each row (i.e., for each variable)</li>
<li>Label the factors using the strongest factor loadings</li>
</ol>
<p>If you want more practice open the <code>shopping</code> data set and see if you can reproduce the results shown in the screen capture of the <em>Summary</em> tab below. Use <em>Multivariate &gt; Factor &gt; Pre-factor</em> to determine if the correct number of factors were selected. Do you agree? Why (not)?</p>
<p align="center">
<img src="https://radiant-rstats.github.io/docs/multivariate/figures_multivariate//full_factor_summary_shopping.png"></p>
</div>
<div id="including-categorical-variables" class="section level2">
<h2 class="hasAnchor">
<a href="#including-categorical-variables" class="anchor"></a>Including categorical variables</h2>
<p>Output shown in <em>Multivariate &gt; Factor</em> is estimated using either Principal Components Analysis (PCA) or Maximum Likelihood (ML). The correlation matrix used as input for estimation can be calculated for variables of type <code>numeric</code>, <code>integer</code>, <code>date</code>, and <code>factor</code>. When variables of type factor are included the <code>Adjust for {factor} variables</code> box should be checked. When correlations are estimated with adjustment, variables that are of type <code>factor</code> will be treated as (ordinal) categorical variables and all other variables will be treated as continuous.</p>
<p>It is important to note that estimated factor scores will be biased if a mixed of {factor} and numeric variables are used. If you want to use factor scores as input for further analysis, e.g., clustering, you should use either (1) all {factor} variables or (2) all numeric variables to avoid this bias.</p>
<div id="report-rmd" class="section level3">
<h3 class="hasAnchor">
<a href="#report-rmd" class="anchor"></a>Report &gt; Rmd</h3>
<p>Add code to <a href="https://radiant-rstats.github.io/docs/data/report_rmd.html" target="_blank"><em>Report &gt; Rmd</em></a> to (re)create the analysis by clicking the <i title="report results" class="fa fa-edit"></i> icon on the bottom left of your screen or by pressing <code>ALT-enter</code> on your keyboard.</p>
<p>If a plot was created it can be customized using <code>ggplot2</code> commands or with <code>patchwork</code>. See example below and <a href="https://radiant-rstats.github.io/docs/data/visualize.html" target="_blank"><em>Data &gt; Visualize</em></a> for details.</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb2-1" data-line-number="1"><span class="kw"><a href="https://rdrr.io/r/graphics/plot.html">plot</a></span>(result, <span class="dt">custom =</span> <span class="ot">TRUE</span>) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb2-2" data-line-number="2"><span class="st">  </span><span class="kw">wrap_plots</span>(plot_list, <span class="dt">ncol =</span> <span class="dv">2</span>) <span class="op">+</span><span class="st"> </span><span class="kw">plot_annotation</span>(<span class="dt">title =</span> <span class="st">"Factor Analysis"</span>)</a></code></pre></div>
</div>
<div id="r-functions" class="section level3">
<h3 class="hasAnchor">
<a href="#r-functions" class="anchor"></a>R-functions</h3>
<p>For an overview of related R-functions used by Radiant to conduct factor analysis see <a href="https://radiant-rstats.github.io/radiant.multivariate/reference/index.html#section-multivariate-factor" target="_blank"><em>Multivariate &gt; Factor</em></a>.</p>
<p>The key functions from the <code>psych</code> packages used in the <code>full_factor</code> tool are <code>principal</code> and <code>fa</code> .</p>
<p>Â© Vincent Nijs (2018) <a rel="license" href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank"><img alt="Creative Commons License" style="border-width: 0" src="images/by-nc-sa.png"></a></p>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">

        <div id="tocnav">
      <h2 class="hasAnchor">
<a href="#tocnav" class="anchor"></a>Contents</h2>
      <ul class="nav nav-pills nav-stacked">
<li><a href="#including-categorical-variables">Including categorical variables</a></li>
      </ul>
</div>
      </div>

</div>



      <footer><div class="copyright">
  <p>Developed by Vincent Nijs.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.4.1.</p>
</div>

      </footer>
</div>

  
<script src="https://cdnjs.cloudflare.com/ajax/libs/docsearch.js/2.6.1/docsearch.min.js" integrity="sha256-GKvGqXDznoRYHCwKXGnuchvKSwmx9SRMrZOTh2g4Sb0=" crossorigin="anonymous"></script><script>
  docsearch({
    
    
    apiKey: '2038ba9d97ecd78525ca0ca8e051bec0',
    indexName: 'radiant_multivariate',
    inputSelector: 'input#search-input.form-control',
    transformData: function(hits) {
      return hits.map(function (hit) {
        hit.url = updateHitURL(hit);
        return hit;
      });
    }
  });
</script>
</body>
</html>
